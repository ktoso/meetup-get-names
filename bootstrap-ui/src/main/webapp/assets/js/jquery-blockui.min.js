/*!
 * jQuery blockUI plugin
 * Version 2.47 (28-SEP-2012)
 * @requires jQuery v1.3 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2012 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */

(function(){function a(a){function i(e,i){var k,m;var q=e==window;var r=i&&i.message!==undefined?i.message:undefined;i=a.extend({},a.blockUI.defaults,i||{});if(i.ignoreIfBlocked&&a(e).data("blockUI.isBlocked"))return;i.overlayCSS=a.extend({},a.blockUI.defaults.overlayCSS,i.overlayCSS||{});k=a.extend({},a.blockUI.defaults.css,i.css||{});m=a.extend({},a.blockUI.defaults.themedCSS,i.themedCSS||{});r=r===undefined?i.message:r;if(q&&g)j(window,{fadeOut:0});if(r&&typeof r!="string"&&(r.parentNode||r.jquery)){var s=r.jquery?r[0]:r;var t={};a(e).data("blockUI.history",t);t.el=s;t.parent=s.parentNode;t.display=s.style.display;t.position=s.style.position;if(t.parent)t.parent.removeChild(s)}a(e).data("blockUI.onUnblock",i.onUnblock);var u=i.baseZ;var v,w,x,y;if(c||i.forceIframe)v=a('<iframe class="blockUI" style="z-index:'+u++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+i.iframeSrc+'"></iframe>');else v=a('<div class="blockUI" style="display:none"></div>');if(i.theme)w=a('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+u++ +';display:none"></div>');else w=a('<div class="blockUI blockOverlay" style="z-index:'+u++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');if(i.theme&&q){y='<div class="blockUI '+i.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(u+10)+';display:none;position:fixed">';if(i.title){y+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||" ")+"</div>"}y+='<div class="ui-widget-content ui-dialog-content"></div>';y+="</div>"}else if(i.theme){y='<div class="blockUI '+i.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(u+10)+';display:none;position:absolute">';if(i.title){y+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||" ")+"</div>"}y+='<div class="ui-widget-content ui-dialog-content"></div>';y+="</div>"}else if(q){y='<div class="blockUI '+i.blockMsgClass+' blockPage" style="z-index:'+(u+10)+';display:none;position:fixed"></div>'}else{y='<div class="blockUI '+i.blockMsgClass+' blockElement" style="z-index:'+(u+10)+';display:none;position:absolute"></div>'}x=a(y);if(r){if(i.theme){x.css(m);x.addClass("ui-widget-content")}else x.css(k)}if(!i.theme)w.css(i.overlayCSS);w.css("position",q?"fixed":"absolute");if(c||i.forceIframe)v.css("opacity",0);var z=[v,w,x],A=q?a("body"):a(e);a.each(z,function(){this.appendTo(A)});if(i.theme&&i.draggable&&a.fn.draggable){x.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var B=f&&(!a.support.boxModel||a("object,embed",q?null:e).length>0);if(d||B){if(q&&i.allowBodyStretch&&a.support.boxModel)a("html,body").css("height","100%");if((d||!a.support.boxModel)&&!q){var C=p(e,"borderTopWidth"),D=p(e,"borderLeftWidth");var E=C?"(0 - "+C+")":0;var F=D?"(0 - "+D+")":0}a.each(z,function(a,b){var c=b[0].style;c.position="absolute";if(a<2){if(q)c.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+i.quirksmodeOffsetHack+') + "px"');else c.setExpression("height",'this.parentNode.offsetHeight + "px"');if(q)c.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"');else c.setExpression("width",'this.parentNode.offsetWidth + "px"');if(F)c.setExpression("left",F);if(E)c.setExpression("top",E)}else if(i.centerY){if(q)c.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');c.marginTop=0}else if(!i.centerY&&q){var d=i.css&&i.css.top?parseInt(i.css.top,10):0;var e="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+d+') + "px"';c.setExpression("top",e)}})}if(r){if(i.theme)x.find(".ui-widget-content").append(r);else x.append(r);if(r.jquery||r.nodeType)a(r).show()}if((c||i.forceIframe)&&i.showOverlay)v.show();if(i.fadeIn){var G=i.onBlock?i.onBlock:b;var H=i.showOverlay&&!r?G:b;var I=r?G:b;if(i.showOverlay)w._fadeIn(i.fadeIn,H);if(r)x._fadeIn(i.fadeIn,I)}else{if(i.showOverlay)w.show();if(r)x.show();if(i.onBlock)i.onBlock()}l(1,e,i);if(q){g=x[0];h=a(":input:enabled:visible",g);if(i.focusInput)setTimeout(n,20)}else o(x[0],i.centerX,i.centerY);if(i.timeout){var J=setTimeout(function(){if(q)a.unblockUI(i);else a(e).unblock(i)},i.timeout);a(e).data("blockUI.timeout",J)}}function j(b,c){var d=b==window;var e=a(b);var f=e.data("blockUI.history");var i=e.data("blockUI.timeout");if(i){clearTimeout(i);e.removeData("blockUI.timeout")}c=a.extend({},a.blockUI.defaults,c||{});l(0,b,c);if(c.onUnblock===null){c.onUnblock=e.data("blockUI.onUnblock");e.removeData("blockUI.onUnblock")}var j;if(d)j=a("body").children().filter(".blockUI").add("body > .blockUI");else j=e.find(">.blockUI");if(d)g=h=null;if(c.fadeOut){j.fadeOut(c.fadeOut);setTimeout(function(){k(j,f,c,b)},c.fadeOut)}else k(j,f,c,b)}function k(b,c,d,e){b.each(function(a,b){if(this.parentNode)this.parentNode.removeChild(this)});if(c&&c.el){c.el.style.display=c.display;c.el.style.position=c.position;if(c.parent)c.parent.appendChild(c.el);a(e).removeData("blockUI.history")}if(typeof d.onUnblock=="function")d.onUnblock(e,d)}function l(b,c,d){var e=c==window,f=a(c);if(!b&&(e&&!g||!e&&!f.data("blockUI.isBlocked")))return;f.data("blockUI.isBlocked",b);if(!d.bindEvents||b&&!d.showOverlay)return;var h="mousedown mouseup keydown keypress";if(b)a(document).bind(h,d,m);else a(document).unbind(h,m)}function m(b){if(b.keyCode&&b.keyCode==9){if(g&&b.data.constrainTabKey){var c=h;var d=!b.shiftKey&&b.target===c[c.length-1];var e=b.shiftKey&&b.target===c[0];if(d||e){setTimeout(function(){n(e)},10);return false}}}var f=b.data;if(a(b.target).parents("div."+f.blockMsgClass).length>0)return true;return a(b.target).parents().children().filter("div.blockUI").length===0}function n(a){if(!h)return;var b=h[a===true?h.length-1:0];if(b)b.focus()}function o(a,b,c){var d=a.parentNode,e=a.style;var f=(d.offsetWidth-a.offsetWidth)/2-p(d,"borderLeftWidth");var g=(d.offsetHeight-a.offsetHeight)/2-p(d,"borderTopWidth");if(b)e.left=f>0?f+"px":"0";if(c)e.top=g>0?g+"px":"0"}function p(b,c){return parseInt(a.css(b,c),10)||0}if(/^1\.(0|1|2)/.test(a.fn.jquery)){alert("blockUI requires jQuery v1.3 or later!  You are using v"+a.fn.jquery);return}a.fn._fadeIn=a.fn.fadeIn;var b=a.noop||function(){};var c=/MSIE/.test(navigator.userAgent);var d=/MSIE 6.0/.test(navigator.userAgent);var e=document.documentMode||0;var f=a.isFunction(document.createElement("div").style.setExpression);a.blockUI=function(a){i(window,a)};a.unblockUI=function(a){j(window,a)};a.growlUI=function(b,c,d,e){var f=a('<div class="growlUI"></div>');if(b)f.append("<h1>"+b+"</h1>");if(c)f.append("<h2>"+c+"</h2>");if(d===undefined)d=3e3;a.blockUI({message:f,fadeIn:700,fadeOut:1e3,centerY:false,timeout:d,showOverlay:false,onUnblock:e,css:a.blockUI.defaults.growlCSS})};a.fn.block=function(b){var c=a.extend({},a.blockUI.defaults,b||{});this.each(function(){var b=a(this);if(c.ignoreIfBlocked&&b.data("blockUI.isBlocked"))return;b.unblock({fadeOut:0})});return this.each(function(){if(a.css(this,"position")=="static")this.style.position="relative";this.style.zoom=1;i(this,b)})};a.fn.unblock=function(a){return this.each(function(){j(this,a)})};a.blockUI.version=2.47;a.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1e3,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var g=null;var h=[]}"use strict";if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})()